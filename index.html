<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Consistent Viral Script Generator</title>

<style>
body{
    background:#0f0f0f;
    color:#ffffff;
    font-family:Arial;
    padding:20px;
}
h1{color:#00ffc3;}
.section{
    background:#1b1b1b;
    padding:15px;
    margin-top:20px;
    border-radius:10px;
}
textarea{
    width:100%;
    background:#111;
    color:#00ffcc;
    border:1px solid #333;
    padding:10px;
    margin-top:10px;
}
button{
    background:#00ffc3;
    border:none;
    padding:8px 15px;
    margin-top:10px;
    cursor:pointer;
}
button:hover{opacity:0.8;}
</style>
</head>
<body>

<h1>Viral Simulation Script Generator (Consistent Mode)</h1>

<div class="section">
<h2>ðŸ”‘ API Key</h2>
<input type="password" id="apikey" placeholder="Tempel Groq API Key di sini" style="width:100%;padding:8px;background:#111;color:#fff;border:1px solid #333;">
</div>

<div class="section">
<h2>STEP 1 â€“ Generate 10 Ide</h2>
<button onclick="generateIdeas()">Generate Ide</button>
<textarea id="ideasBox" rows="10"></textarea>
</div>

<div class="section">
<h2>STEP 2 â€“ Pilih Ide & Generate Script</h2>
<input type="text" id="chosenIdea" placeholder="Copy salah satu ide ke sini">
<button onclick="generateScript()">Generate Script</button>
<textarea id="scriptBox" rows="15"></textarea>
</div>

<div class="section">
<h2>STEP 3 â€“ Generate Prompt Visual</h2>
<button onclick="generateVisual()">Generate Image & Video Prompts</button>
<textarea id="visualBox" rows="20"></textarea>
</div>

<script>

async function callGroq(prompt){
const key = document.getElementById("apikey").value;

const response = await fetch("https://api.groq.com/openai/v1/chat/completions",{
method:"POST",
headers:{
"Content-Type":"application/json",
"Authorization":"Bearer " + key
},
body:JSON.stringify({
model:"openai/gpt-oss-120b",
messages:[
{
role:"system",
content:`Anda adalah Penulis Naskah Viral YouTube yang berspesialisasi dalam simulasi "Bagaimana jika" "Berapa lama kamu bisa" "Apa yang terjadi jika kamu" yang sangat realistis (gaya: Animasi anatomi 3D seperti "Perbandingan" atau "Skenario Tubuh Manusia").

Pertahankan terminologi visual berikut secara IDENTIK setiap kali digunakan:
"Ultra-realistic cinematic 3D render dari sosok kerangka humanoid dengan lapisan tubuh transparan seperti kristal/gelas menutupi tulang tengkorak anatomi yang jelas dengan gigi terlihat dan memiliki bola mata tampilan semi-x-ray realitas edukatif dan surealis, tidak menakutkan bukan kartun detail ultra tinggi fokus tajam 8K"

Nada: penasaran namun tetap mendidik.
Fokus pada retensi tinggi.
Jangan improvisasi gaya.`
},
{role:"user",content:prompt}
],
temperature:0.6,
max_tokens:3500
})
});

const data = await response.json();
return data.choices[0].message.content;
}

async function generateIdeas(){

const prompt = `
Brainstorming:
Hasilkan 10 topik video viral dalam format daftar bernomor.
Gunakan format:
Bagaimana jika...
Apa yang terjadi jika kamu...
Berapa lama kamu bisa...
Fokus ekstrem lingkungan, serangan hewan, atau reaksi kimia.
`;

const result = await callGroq(prompt);
document.getElementById("ideasBox").value = result;
}

async function generateScript(){

const idea = document.getElementById("chosenIdea").value;

const prompt = `
Tulis naskah 45-60 detik dalam format paragraf.

Struktur:
Tunjukkan eskalasi atau kerusakan progresif menggunakan progresi waktu:
Selama 1 menit...
Selama 5 menit...
Selama 1 jam...
Selama 1 hari...

Topik: ${idea}
`;

const result = await callGroq(prompt);
document.getElementById("scriptBox").value = result;
}

async function generateVisual(){

const script = document.getElementById("scriptBox").value;

const prompt = `
Berdasarkan skrip berikut:

${script}

Hasilkan:
1. Prompt Gambar untuk setiap progresi waktu.
2. Prompt Video untuk setiap progresi waktu.

Pastikan setiap prompt menggunakan terminologi karakter berikut secara IDENTIK:
"Ultra-realistic cinematic 3D render dari sosok kerangka humanoid dengan lapisan tubuh transparan seperti kristal/gelas menutupi tulang tengkorak anatomi yang jelas dengan gigi terlihat dan memiliki bola mata tampilan semi-x-ray realitas edukatif dan surealis, tidak menakutkan bukan kartun detail ultra tinggi fokus tajam 8K"

Pastikan konsistensi lokasi dan pencahayaan.
Tambahkan detail fisika realistis (cairan, pecahan, atau partikel).
`;

const result = await callGroq(prompt);
document.getElementById("visualBox").value = result;
}

</script>

</body>
</html>
