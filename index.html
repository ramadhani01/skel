<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>AI Shorts Dashboard PRO</title>

<style>
body{
    margin:0;
    font-family:Arial;
    background:#0f0f0f;
    color:white;
}
.container{
    max-width:1200px;
    margin:auto;
    padding:20px;
}
.card{
    background:#1a1a1a;
    padding:20px;
    border-radius:12px;
    margin-bottom:20px;
}
h1{color:#ff3c00;}
input,textarea{
    width:100%;
    padding:10px;
    margin-top:10px;
    border-radius:6px;
    border:none;
    background:#2a2a2a;
    color:white;
}
button{
    padding:10px 18px;
    background:#ff3c00;
    border:none;
    border-radius:6px;
    color:white;
    font-weight:bold;
    cursor:pointer;
    margin-top:10px;
}
button:hover{opacity:0.85;}
.idea{
    background:#222;
    padding:10px;
    border-radius:6px;
    margin-top:8px;
    cursor:pointer;
}
.idea:hover{background:#333;}
.grid{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:20px;
}
.small-btn{
    background:#444;
    font-size:12px;
}
.success{color:#00ff99;}
</style>
</head>
<body>

<div class="container">

<h1>ðŸ”¥ AI Shorts Dashboard PRO</h1>

<div class="card">
<h3>Groq API Key</h3>
<input type="password" id="apiKeyInput" placeholder="Masukkan API Key">
<button onclick="saveKey()">Simpan</button>
<button class="small-btn" onclick="clearKey()">Hapus</button>
<div id="status"></div>
</div>

<div class="card">
<button onclick="generateIdeas()">Generate 10 Ide Viral</button>
<div id="ideas"></div>
</div>

<div class="card">
<h3>Full Production Output</h3>
<textarea id="fullOutput" rows="20"></textarea>
<button onclick="copyOutput()">Copy</button>
<button onclick="exportJSON()">Export JSON</button>
</div>

</div>

<script>

window.onload=()=>{
    const k=localStorage.getItem("groq_key");
    if(k){
        apiKeyInput.value=k;
        status.innerHTML="<div class='success'>API Key tersimpan âœ”</div>";
    }
};

function saveKey(){
    const k=apiKeyInput.value.trim();
    if(!k)return alert("Masukkan API Key");
    localStorage.setItem("groq_key",k);
    status.innerHTML="<div class='success'>API Key tersimpan âœ”</div>";
}

function clearKey(){
    localStorage.removeItem("groq_key");
    apiKeyInput.value="";
    status.innerHTML="API Key dihapus.";
}

async function callGroq(prompt){
    const key=localStorage.getItem("groq_key");
    if(!key)return alert("Simpan API Key dulu");

    const res=await fetch("https://api.groq.com/openai/v1/chat/completions",{
        method:"POST",
        headers:{
            "Content-Type":"application/json",
            "Authorization":`Bearer ${key}`
        },
        body:JSON.stringify({
            model:"llama-3.3-70b-versatile",
            messages:[{role:"user",content:prompt}],
            temperature:0.9
        })
    });

    const data=await res.json();
    return data.choices[0].message.content;
}

async function generateIdeas(){
    ideas.innerHTML="Generating...";
    const prompt=`
Buat 10 ide viral YouTube Shorts.
Format:
- Apa yang Terjadi Jika Kamu...
- Berapa Lama Kamu Bisa...

Tema ekstrem, realistis, cocok animasi anatomi 3D.
Hindari topik klise.
`;

    const result=await callGroq(prompt);
    ideas.innerHTML="";
    result.split("\n").forEach(line=>{
        if(line.trim()){
            const d=document.createElement("div");
            d.className="idea";
            d.innerText=line;
            d.onclick=()=>produceFull(line);
            ideas.appendChild(d);
        }
    });
}

async function produceFull(idea){

fullOutput.value="ðŸš€ Producing full content system...\n";

const masterPrompt=`
Anda adalah sistem produksi YouTube Shorts profesional.

Topik: ${idea}

Buat output dengan struktur lengkap:

1. Judul CTR tinggi
2. Script 45-60 detik (hook kuat, eskalasi progresif)
3. Scene Breakdown 5 adegan (timestamp)
4. Prompt gambar 8K UHD cinematic per scene
   - Karakter wajib konsisten:
   "Kerangka manusia berwarna putih yang tembus cahaya."
5. Prompt video cinematic per scene
6. Thumbnail prompt dramatis
7. Deskripsi YouTube SEO
8. 10 hashtag Shorts relevan

Semua dalam format terstruktur rapi.
`;

const result=await callGroq(masterPrompt);
fullOutput.value=result;
}

function copyOutput(){
    fullOutput.select();
    document.execCommand("copy");
    alert("Copied!");
}

function exportJSON(){
    const data={
        content:fullOutput.value
    };
    const blob=new Blob([JSON.stringify(data,null,2)],{type:"application/json"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download="shorts-production-pack.json";
    a.click();
}

</script>

</body>
</html>
